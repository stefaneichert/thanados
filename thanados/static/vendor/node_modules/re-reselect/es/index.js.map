{"version":3,"file":"index.js","sources":["../src/cache/util/isStringOrNumber.js","../src/cache/FlatObjectCache.js","../src/createCachedSelector.js","../src/createStructuredCachedSelector.js","../src/cache/util/validateCacheSize.js","../src/cache/FifoObjectCache.js","../src/cache/LruObjectCache.js","../src/cache/FlatMapCache.js","../src/cache/FifoMapCache.js","../src/cache/LruMapCache.js"],"sourcesContent":["function isStringOrNumber(value) {\n  return typeof value === 'string' || typeof value === 'number';\n}\n\nexport default isStringOrNumber;\n","import isStringOrNumber from './util/isStringOrNumber';\n\nexport default class FlatObjectCache {\n  constructor() {\n    this._cache = {};\n  }\n  set(key, selectorFn) {\n    this._cache[key] = selectorFn;\n  }\n  get(key) {\n    return this._cache[key];\n  }\n  remove(key) {\n    delete this._cache[key];\n  }\n  clear() {\n    this._cache = {};\n  }\n  isValidCacheKey(cacheKey) {\n    return isStringOrNumber(cacheKey);\n  }\n}\n","import {createSelector} from 'reselect';\nimport FlatObjectCache from './cache/FlatObjectCache';\n\nconst defaultCacheCreator = FlatObjectCache;\nconst defaultCacheKeyValidator = () => true;\n\nfunction createCachedSelector(...funcs) {\n  return (polymorphicOptions, legacyOptions) => {\n    if (legacyOptions) {\n      throw new Error(\n        '[re-reselect] \"options\" as second argument is not supported anymore. Please provide an option object as single argument.'\n      );\n    }\n\n    const options =\n      typeof polymorphicOptions === 'function'\n        ? {keySelector: polymorphicOptions}\n        : Object.assign({}, polymorphicOptions);\n\n    // https://github.com/reduxjs/reselect/blob/v4.0.0/src/index.js#L54\n    let recomputations = 0;\n    const resultFunc = funcs.pop();\n    const dependencies = Array.isArray(funcs[0]) ? funcs[0] : [...funcs];\n\n    const resultFuncWithRecomputations = (...args) => {\n      recomputations++;\n      return resultFunc(...args);\n    };\n    funcs.push(resultFuncWithRecomputations);\n\n    const cache = options.cacheObject || new defaultCacheCreator();\n    const selectorCreator = options.selectorCreator || createSelector;\n    const isValidCacheKey = cache.isValidCacheKey || defaultCacheKeyValidator;\n\n    if (options.keySelectorCreator) {\n      options.keySelector = options.keySelectorCreator({\n        keySelector: options.keySelector,\n        inputSelectors: dependencies,\n        resultFunc,\n      });\n    }\n\n    // Application receives this function\n    const selector = function (...args) {\n      const cacheKey = options.keySelector(...args);\n\n      if (isValidCacheKey(cacheKey)) {\n        let cacheResponse = cache.get(cacheKey);\n\n        if (cacheResponse === undefined) {\n          cacheResponse = selectorCreator(...funcs);\n          cache.set(cacheKey, cacheResponse);\n        }\n\n        return cacheResponse(...args);\n      }\n      console.warn(\n        `[re-reselect] Invalid cache key \"${cacheKey}\" has been returned by keySelector function.`\n      );\n      return undefined;\n    };\n\n    // Further selector methods\n    selector.getMatchingSelector = (...args) => {\n      const cacheKey = options.keySelector(...args);\n      // @NOTE It might update cache hit count in LRU-like caches\n      return cache.get(cacheKey);\n    };\n\n    selector.removeMatchingSelector = (...args) => {\n      const cacheKey = options.keySelector(...args);\n      cache.remove(cacheKey);\n    };\n\n    selector.clearCache = () => {\n      cache.clear();\n    };\n\n    selector.resultFunc = resultFunc;\n\n    selector.dependencies = dependencies;\n\n    selector.cache = cache;\n\n    selector.recomputations = () => recomputations;\n\n    selector.resetRecomputations = () => (recomputations = 0);\n\n    selector.keySelector = options.keySelector;\n\n    return selector;\n  };\n}\n\nexport default createCachedSelector;\n","import {createStructuredSelector} from 'reselect';\nimport createCachedSelector from './createCachedSelector';\n\nfunction createStructuredCachedSelector(selectors) {\n  return createStructuredSelector(selectors, createCachedSelector);\n}\n\nexport default createStructuredCachedSelector;\n","function validateCacheSize(cacheSize) {\n  if (cacheSize === undefined) {\n    throw new Error('Missing the required property \"cacheSize\".');\n  }\n  if (!Number.isInteger(cacheSize) || cacheSize <= 0) {\n    throw new Error(\n      'The \"cacheSize\" property must be a positive integer value.'\n    );\n  }\n}\n\nexport default validateCacheSize;\n","import validateCacheSize from './util/validateCacheSize';\nimport isStringOrNumber from './util/isStringOrNumber';\n\nexport default class FifoObjectCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = {};\n    this._cacheOrdering = [];\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache[key] = selectorFn;\n    this._cacheOrdering.push(key);\n\n    if (this._cacheOrdering.length > this._cacheSize) {\n      const earliest = this._cacheOrdering[0];\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    return this._cache[key];\n  }\n  remove(key) {\n    const index = this._cacheOrdering.indexOf(key);\n\n    if (index > -1) {\n      this._cacheOrdering.splice(index, 1);\n    }\n    delete this._cache[key];\n  }\n  clear() {\n    this._cache = {};\n    this._cacheOrdering = [];\n  }\n  isValidCacheKey(cacheKey) {\n    return isStringOrNumber(cacheKey);\n  }\n}\n","import validateCacheSize from './util/validateCacheSize';\nimport isStringOrNumber from './util/isStringOrNumber';\n\nexport default class LruObjectCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = {};\n    this._cacheOrdering = [];\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache[key] = selectorFn;\n    this._registerCacheHit(key);\n\n    if (this._cacheOrdering.length > this._cacheSize) {\n      const earliest = this._cacheOrdering[0];\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    this._registerCacheHit(key);\n    return this._cache[key];\n  }\n  remove(key) {\n    this._deleteCacheHit(key);\n    delete this._cache[key];\n  }\n  clear() {\n    this._cache = {};\n    this._cacheOrdering = [];\n  }\n  _registerCacheHit(key) {\n    this._deleteCacheHit(key);\n    this._cacheOrdering.push(key);\n  }\n  _deleteCacheHit(key) {\n    const index = this._cacheOrdering.indexOf(key);\n    if (index > -1) {\n      this._cacheOrdering.splice(index, 1);\n    }\n  }\n  isValidCacheKey(cacheKey) {\n    return isStringOrNumber(cacheKey);\n  }\n}\n","export default class FlatMapCache {\n  constructor() {\n    this._cache = new Map();\n  }\n  set(key, selectorFn) {\n    this._cache.set(key, selectorFn);\n  }\n  get(key) {\n    return this._cache.get(key);\n  }\n  remove(key) {\n    this._cache.delete(key);\n  }\n  clear() {\n    this._cache.clear();\n  }\n}\n","import validateCacheSize from './util/validateCacheSize';\n\nexport default class FifoMapCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = new Map();\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache.set(key, selectorFn);\n\n    if (this._cache.size > this._cacheSize) {\n      const earliest = this._cache.keys().next().value;\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    return this._cache.get(key);\n  }\n  remove(key) {\n    this._cache.delete(key);\n  }\n  clear() {\n    this._cache.clear();\n  }\n}\n","import validateCacheSize from './util/validateCacheSize';\n\nexport default class LruMapCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = new Map();\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache.set(key, selectorFn);\n\n    if (this._cache.size > this._cacheSize) {\n      const earliest = this._cache.keys().next().value;\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    const value = this._cache.get(key);\n\n    // Register cache hit\n    if (this._cache.has(key)) {\n      this.remove(key);\n      this._cache.set(key, value);\n    }\n    return value;\n  }\n  remove(key) {\n    this._cache.delete(key);\n  }\n  clear() {\n    this._cache.clear();\n  }\n}\n"],"names":["isStringOrNumber","value","FlatObjectCache","_cache","set","key","selectorFn","get","remove","clear","isValidCacheKey","cacheKey","defaultCacheCreator","defaultCacheKeyValidator","createCachedSelector","funcs","polymorphicOptions","legacyOptions","Error","options","keySelector","Object","assign","recomputations","resultFunc","pop","dependencies","Array","isArray","resultFuncWithRecomputations","push","cache","cacheObject","selectorCreator","createSelector","keySelectorCreator","inputSelectors","selector","cacheResponse","undefined","console","warn","getMatchingSelector","removeMatchingSelector","clearCache","resetRecomputations","createStructuredCachedSelector","selectors","createStructuredSelector","validateCacheSize","cacheSize","Number","isInteger","FifoObjectCache","_cacheOrdering","_cacheSize","length","earliest","index","indexOf","splice","LruObjectCache","_registerCacheHit","_deleteCacheHit","FlatMapCache","Map","FifoMapCache","size","keys","next","LruMapCache","has"],"mappings":"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"}