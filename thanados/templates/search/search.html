{% extends "layout.html" %}
{% block content %}

    <link rel="stylesheet"
          href="/static/vendor/node_modules/leaflet-groupedlayercontrol/dist/leaflet.groupedlayercontrol.min.css">
    <script src="/static/vendor/node_modules/leaflet-groupedlayercontrol/dist/leaflet.groupedlayercontrol.min.js"></script>
    <link href="/static/css/style.css" rel="stylesheet">

    <div id="mycontent" class="pb-4">
        <div class="m-4">
            <div class="input-group mb-3 ms-3">
                <span class="freesearch">Categories</span>
                <div id="checkmysearch"
                     class="ms-2 me-2 form-check form-switch"><input
                        id="checkMe" class="form-check-input" type="checkbox">
                </div>
                <span class="freesearch text-muted">Text search</span>
            </div>
        </div>

        <div id="freesearch" class="m-4">

            <div id="freesearchCard" class="card mb-3" style="width: 100%;">
                <div class="card-header" id="headingFreeSearch">
                    <h5 class="mb-0">
                        <span class="input-group">
                            <input id="searchTerm" type="text"
                                   class="form-control"
                                   placeholder="Enter search term"
                                   aria-label="Search term">
                            <button onclick="returnFreeSearch()"
                                    class="btn btn-secondary"
                                    type="button">Search
                            </button>
                        </span>

                    </h5>
                </div>
                <div id="NoFreeResults" class="card-body d-none">
                    No results for this search
                </div>

                <div id="freeResult" class="card-body row d-none">
                    <div class="col-lg-6">
                        <table id="myResultlistfreeResult"
                               class="display table table-striped table-bordered w-100">

                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th id="Min_FreeSearch">Begin</th>
                                <th>End</th>
                                <th>Context</th>
                            </tr>
                            </thead>

                        </table>

                    </div>

                    <div id="preMap" class="col-lg-6">
                        <div class="m-1 map" id="map0"
                             style="height: 100%; min-height: 500px; min-width: 300px"></div>

                    </div>

                </div>

                <div id="freeCit" class="card-body d-none">
                    <button type="button"
                            onclick="currentBtn = 0; getCitation()"
                            title="how to cite this"
                            class="me-2 btn btn-secondary float-end">
                        <i class="fas fa-quote-right"></i>
                    </button>

                </div>
            </div>
        </div>


        <div id="catSearch" class="pb-4">
            <div id="mySearchCards" class="m-4 sortable">
            </div>
            <button id="AddSearch"
                    class="btn btn-secondary float-end me-4 d-none">
                New Search
            </button>
        </div>
    </div>


    <div id="mytreeModal" title="Select category" class="d-none">
        <div>
            <div id="TreeMenu" class="input-group input-group-sm mb-3">
                <input id="jstree_q" class="form-control form-control-sm"
                       type="text"
                       placeholder="type to search...">
                <button class="btn btn-secondary btn-sm" type="button"
                        onclick="transferNode(GlobaltargetField, GlobalNodeSelected, GlobalSelectedNodeName, Globalcriteria, GlobalappendLevel, Globaliter, 'false')"
                        id="confirmNodeBtn">Select
                </button>

            </div>
            <div id="myTreeModalContent">
                <form id="jstree-div">
                    <div id="jstree"></div>
                </form>
            </div>
        </div>
    </div>


    <script> test_csrf_token = '{{ csrf_token() }}'; </script>
    <script src="/static/js/search.js"></script>
    <script>    jsontypes =
    {{ typesjson|tojson }} </script>
    <script>    sitelist =
    {{ sitelist|tojson }}    </script>

{% endblock %}
